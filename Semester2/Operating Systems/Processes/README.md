Implement a C program that uses inter-process communication with a pipe. The parent process repeatedly prompts the user for an integer `k`, sends it to the child process, generates a random integer `N`, and sends `N` as well. If `k` is zero, the parent stops and waits for the child to finish. The child reads `k` and `N` from the pipe, calculates either the sum or product of the digits of `N` depending on whether `k` is even or odd, and writes the results to a file. The program ensures error handling and proper process synchronization.